## 6.μ»¤λ§¨λ“ ν¨ν„΄
### ν•µμ‹¬

- **λ©”μ†λ“ νΈμ¶μ„ μΊ΅μν™”**ν•μ—¬ μΈλ³΄μ»¤μ™€ λ¦¬μ‹λ²„λ¥Ό λ¶„λ¦¬μ‹μΌ, μΈλ³΄μ»¤(λ¦¬λ¨μ»¨ κ°™μ΄ κ³„μ‚°ν•λ” μ½”λ“λ¥Ό νΈμ¶ν• κ°μ²΄)λ” μμ‹ μ΄ κµ¬μ²΄μ μΌλ΅ μ–΄λ–¤ μ‘μ—…μ„ ν•λ”μ§€μ— λ€ν•΄ μ „ν€ μ‹ κ²½μ“°μ§€ μ•λ„λ΅ ν•λ” κ²ƒμ΄ ν•µμ‹¬μ…λ‹λ‹¤.

![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2021-11-09 α„‹α…©α„’α…® 8 47 15](https://user-images.githubusercontent.com/48742165/140918733-48a6c16f-a901-499d-9674-f5463f610cd2.png)



### μ»¤λ§¨λ“ ν¨ν„΄ μ •μ

>
> π’΅ μ»¤λ§¨λ“ ν¨ν„΄μ„ μ΄μ©ν•λ©΄ μ”κµ¬μ‚¬ν•­μ„ κ°μ²΄λ΅ μΊ΅μν™” ν•  μ μμΌλ©°, λ§¤κ°λ³€μλ¥Ό μ¨μ„ μ—¬λ¬ κ°€μ§€ λ‹¤λ¥Έ μ”κµ¬μ‚¬ν•­μ„ μ§‘μ–΄λ„£μ„ μλ„ μμµλ‹λ‹¤. 
>    λν• μ”μ²­ λ‚΄μ—­μ„ νμ— μ €μ¥ν•κ±°λ‚ λ΅κ·Έλ΅ κΈ°λ΅ν•  μλ„ μμΌλ©°, μ‘μ—… μ·¨μ† κΈ°λ¥λ„ μ§€μ› κ°€λ¥ν•©λ‹λ‹¤.
> 


### λ¦¬λ¨μ»¨ API μ μ‘

- TV, μ „λ“± λ“±κ³Ό κ°™μ€ κ°€μ „μ ν’μ„ on/off ν•  μ μλ” λ¦¬λ¨μ»¨ APIλ¥Ό μ»¤λ§¨λ“ ν¨ν„΄μ„ ν™μ©ν•μ—¬ λ§λ“¤μ–΄ λ΄…μ‹λ‹¤.
- μ»¤λ§¨λ“ ν¨ν„΄μ„ ν™μ©ν•κΈ° μ„ν•΄ ν¬κ² 4κ°€μ§€ μ£Όμ²΄κ°€ ν•„μ”ν•©λ‹λ‹¤.
    - ν΄λΌμ΄μ–ΈνΈ:  λ¦¬λ¨μ»¨μ„ νΈμ¶ν•λ” μ£Όμ²΄
    - μΈλ³΄μ»¤: ν΄λΌμ΄μ–ΈνΈμ™€ λ¦¬μ‹λ²„ μ‚¬μ΄μ λ§¤κ°μ²΄
    - μ»¤λ§¨λ“: λ¦¬μ‹λ²„λ¥Ό κ°€μ§€κ³  μμΌλ©°, λ¦¬μ‹λ²„κ°€ μ–΄λ–¤ μ‘μ—…μ„ μ§„ν–‰ν•΄μ•Ό ν•λ”μ§€λ¥Ό λ…λ Ήν•λ” μ£Όμ²΄
        - μ»¤λ§¨λ“ μΈν„°νμ΄μ¤ - μ»¤λ§¨λ“ κµ¬μ²΄ ν΄λμ¤ κµ¬μ΅°λ΅ μ΄λ£¨μ–΄μ Έ μμµλ‹λ‹¤.
    - λ¦¬μ‹λ²„: λ¦¬λ¨μ»¨μ λ…λ Ήμ„ λ°›μ•„ μ‹¤μ  μ‘μ—…μ„ μ§„ν–‰ν•λ” TV, μ „λ“±κ³Ό κ°™μ€ κ°€μ „μ ν’μ— ν•΄λ‹Ήν•λ” μ£Όμ²΄

### μ½”λ“λ΅ μ‚΄ν΄λ΄…μ‹λ‹¤

**1.Command μΈν„°νμ΄μ¤ λ§λ“¤κΈ°**

```swift
protocol Command {
    func execute()
}
```

- μ»¤λ§¨λ“κ°€ ν•΄μ•Όν•  μΌμ€ execute() κΈ°λ¥λ°–μ— μ—†μµλ‹λ‹¤.
- λ‹¨μ§€ μ–΄λ–¤ μΌμ„ μ‹¤ν–‰ν•κΈ°λ§ ν•λ©΄ λλ” μ—­ν• μ΄μ£ .

**2.μ „λ“±μ„ μΌκΈ° μ„ν• μ»¤λ§¨λ“ ν΄λμ¤ κµ¬ν„**

```swift

public class Light {
    public func on() { print("Light On") }
    public func off() { print("Light Off") }
}

//1
public class LightOnCommand: Command {
        //2
    let light: Light
    init(light: Light) {
        self.light = light
    }
        //3
    public func execute() {
        light.on()
    }
}
```

- `μ£Όμ„ 1` : μ°λ¦¬κ°€ λ§λ“¤μ–΄μ•Ό ν•  λ¦¬λ¨μ»¨μ€ μ „λ“±μ„ On ν• μ μμ–΄μ•Ό ν•λ―€λ΅, ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬λ¨μ»¨μ„ λλ €μ„λ• μ „λ“±μ„ onν•λΌλ” λ…λ Ήμ„ λ‚΄λ¦΄ Command μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” LightOnCommandλ¥Ό μ •μν•΄μ£Όμ–΄μ•Ό ν•©λ‹λ‹¤.
- `μ£Όμ„ 2` : μ•μ„ μ»¤λ§¨λ“λ” λ¦¬μ‹λ²„(μ „λ“±)μ„ μ•μ•„μ•Ό λλ‹¤κ³  ν–μΌλ―€λ΅, LightOnCommandμ—μ„λ” μ „λ“±μ„ κ°€μ§€κ³  μμ–΄μ•Ό ν•©λ‹λ‹¤.
- `μ£Όμ„ 3`: LightOnCommandλ” κµ¬μ²΄ ν΄λμ¤μ΄λ―€λ΅ execute()μ—μ„ μ „λ“±μ„ on ν•λΌλ” λ…λ Ήμ„ μν–‰ν•©λ‹λ‹¤.

**3.μ»¤λ§¨λ“ κ°μ²΄ μ‚¬μ©ν•κΈ°**

```swift
public class SimpleRemoteControl {
        //1
    var slot: Command?
    //2
    func setCommand(command: Command) {
        slot = command
    }
    //3
    func buttonWasPressed() {
        slot?.execute()
    }
}
```

- μΈλ³΄μ»¤ μ—­ν• μ„ ν•λ” λ¦¬λ¨μ»¨ ν΄λμ¤μ…λ‹λ‹¤. μ•„λ μ„Έκ°€μ§€ λ‚΄μ©μ„ κ°€μ§€κ³  μμ–΄μ•Ό ν•©λ‹λ‹¤.
- `μ£Όμ„ 1` : μΈλ³΄μ»¤μΈ λ¦¬λ¨μ»¨μ€ μ»¤λ§¨λ“λ¥Ό ν†µν•΄ λ¦¬μ‹λ²„μ™€ ν†µμ‹ ν•κΈ° λ•λ¬Έμ— μ»¤λ§¨λ“ μΈμ¤ν„΄μ¤ λ³€μλ¥Ό κ°€μ§€κ³  μμ–΄μ•Ό ν•©λ‹λ‹¤. λ‹¤λ§, κµ¬μ²΄ μ»¤λ§¨λ“ ν΄λμ¤λ¥Ό κ°€μ§€λ” κ²ƒμ΄ μ•„λ‹λΌ Command μΈν„°νμ΄μ¤λ¥Ό μμ΅΄ν•κ³  μ‚¬μ©ν•μ—¬ μμ΅΄μ„± μ—­μ „μ΄ μ΄λ£¨μ–΄μ§„ κµ¬μ΅°μ΄μ–΄μ•Ό ν•©λ‹λ‹¤.
- `μ£Όμ„ 2` : μ™Έλ¶€μ—μ„ κµ¬μ²΄ μ»¤λ§¨λ“ ν΄λμ¤λ¥Ό μ£Όμ…ν•΄μ£ΌκΈ° μ„ν• λ©”μ†λ“κ°€ ν•„μ”ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μΈλ³΄μ»¤λ” λ‹¨μν λ¬΄μ–Έκ°€λ¥Ό execute() ν•λ” μ—­ν• λ§ ν•κ³ , μμ‹ μ΄ κµ¬μ²΄μ μΌλ΅ μ–΄λ–¤ μ‘μ—…μ„ ν•λ”μ§€μ— λ€ν•΄ μ „ν€ μ‹ κ²½μ“°μ§€ μ•μ„ μ μμµλ‹λ‹¤.
- `μ£Όμ„ 3` : μ‹¤ν–‰ λ…λ Ήμ„ λ‚΄λ¦½λ‹λ‹¤.

**4.λ¦¬λ¨μ½μ„ μ‚¬μ©ν•΄λ΄…μ‹λ‹¤**

```swift
let remote = SimpleRemoteControl()
let light = Light()
let lightOn = LightOnCommand(light: light)

remote.setCommand(command: lightOn)
remote.buttonWasPressed()

---result---
Light On
```

- ν΄λΌμ΄μ–ΈνΈλ” λ©”μΈ ν•¨μκ°€ λκ² μµλ‹λ‹¤.
- μΈλ³΄μ»¤λ” `remote` μƒμκ°€ λκ² μµλ‹λ‹¤.
- μ»¤λ§¨λ“λ” `lightOn` μƒμκ°€ λκ² μµλ‹λ‹¤.
- λ¦¬μ‹λ²„λ” `light` μƒμκ°€ λκ² μµλ‹λ‹¤.
- μΈλ³΄μ»¤ ν΄λμ¤ λ‚΄λ¶€μ—λ” command μΈν„°νμ΄μ¤λ¥Ό κ°€μ§€κ³  μκΈ° λ•λ¬Έμ— μ™Έλ¶€μ—μ„ `remote.setCommand()`λ¥Ό ν†µν•΄ command κµ¬μ²΄ ν΄λμ¤λ¥Ό μ£Όμ…ν•΄μ¤λ‹λ‹¤.
- `remote`λ” μ΄μ  `lightOn`μ΄λΌλ” κµ¬μ²΄ μ»¤λ§¨λ“ ν΄λμ¤μ—μ„ κµ¬ν„ν•κ³  μλ” `execute()`λ¥Ό ν†µν•΄ μ „λ“±μ„ on μ‹ν‚¬ μ μμµλ‹λ‹¤.
