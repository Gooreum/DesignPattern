## 3.ë°ì½”ë ˆì´í„° íŒ¨í„´

ì´ë²ˆ ì¥ì—ì„œëŠ” ìƒì†ë‚¨ìš© ë¬¸ì œë¥¼ ì‚´í´ë³´ê³ , ëŸ°íƒ€ì„ì—ì„œ ê°ì²´ë¥¼ ë””ìì¸ í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë´…ë‹ˆë‹¤.

### ìŠ¤íƒ€ë²„ì¦ˆ(ì¹´í˜) ìŒë£Œ ìƒì†ë¬¸ì œ

- ìŠ¤íƒ€ë²„ì¦ˆì—ì„  ìŒë£Œì£¼ë¬¸ ì‹œìŠ¤í…œì„ ë§Œë“¤ê³ ì í•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ì‚¬ì—…ì´ ë²ˆì°½í• ìˆ˜ë¡ ë‹¤ì–‘í•œ ìŒë£Œë¥¼ ë§Œë“¤ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
- í˜„ì¬ ìŠ¤íƒ€ë²„ì¦ˆëŠ” ìƒì†ì„ ì´ìš©í•˜ì—¬ ì£¼ë¬¸í•  ìˆ˜ ìˆëŠ” ìŒë£Œë¥¼ ê´€ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
- ê·¸ëŸ°ë° ë¬¸ì œëŠ” ì„œë¸Œí´ë˜ìŠ¤ì˜ íŠ¹ì„±ì´ ì¡°ê¸ˆë§Œ ë‹¬ë¼ë„ ìˆ˜ë§ì€ ì„œë¸Œí´ë˜ìŠ¤ë“¤ì„ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.
- í•µì‹¬ì€ ì»¤í”¼ì´ê³ , ë‚˜ë¨¸ì§€ëŠ” ì»¤í”¼ ìœ„ì— ì˜¬ë¼ê°€ëŠ” ì¥ì‹ì¸ë° ê°ê°ì˜ ê²½ìš°ë¥¼ ìœ„í•œ ì„œë¸Œí´ë˜ìŠ¤ë“¤ì„ ë§Œë“¤ì–´ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ë§¤ìš° ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. ë§Œì•½ ëª¨ì¹´ê°€ ì¶”ê°€ëœ HouseBlendWithMocha ë©”ë‰´ë¥¼ íŒë§¤í•˜ì§€ ì•ŠëŠë‹¤ë©´ ê¸°ê» ë§Œë“¤ì–´ ë†“ì€ í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ì‚­ì œí•´ì¤˜ì•¼ í•˜ëŠ” ë²ˆê±°ëŸ¬ì›€ì´ ìƒê¸°ê² ì£ .
- ê·¸ë ‡ë‹¤ë©´ HouseBlend ì»¤í”¼ë§Œ ë§Œë“¤ì–´ ë†“ê³ , í•´ë‹¹ ì»¤í”¼ì— ì˜¬ë¼ê°€ëŠ” ëª¨ì¹´, ìš°ìœ , íœ˜í•‘í¬ë¦¼ë“±ì˜ ì¥ì‹ì„ ëŸ°íƒ€ì„ì‹œ ì¶”ê°€ í•´ì¤„ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ì—†ì„ê¹Œìš”?

![á„ƒá…¦á„á…©á„…á…¦á„‹á…µá„á…¥1](https://user-images.githubusercontent.com/48742165/139672109-57eb8650-db67-4651-84d5-3109d86b02fa.png)


### **OCP(Open-Closed Principle)**

> ğŸ“˜ Note
>  
> í´ë˜ìŠ¤ëŠ” í™•ì¥ì— ëŒ€í•´ì„œëŠ” ì—´ë ¤ ìˆì–´ì•¼ í•˜ì§€ë§Œ ì½”ë“œ ë³€ê²½ì— ëŒ€í•´ì„œëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤.
>

- OCPëŠ” ì´ë¯¸ 2ì¥ ì˜µì €ë²„ íŒ¨í„´ì—ì„œ ì ‘í–ˆìŠµë‹ˆë‹¤.
    - ì˜µì €ë²„ë¥¼ ìƒˆë¡œ ì¶”ê°€í•˜ë©´ Subjectìì²´ì— ì½”ë“œë¥¼ ì¶”ê°€í•˜ì§€ ì•Šìœ¼ë©´ì„œë„ ì–¸ì œë“ ì§€ í™•ì¥í•  ìˆ˜ ìˆì—ˆì£ ?
- ê·¸ëŸ¼ ì´ë²ˆì¥ì—ì„œ ì‚´í´ë³´ê³  ìˆëŠ” ìŠ¤íƒ€ë²„ì¦ˆì˜ ë¬¸ì œë¥¼ ë‹¤ì‹œ ì •ì˜í•´ë´…ì‹œë‹¤.
    - HouseBlend í´ë˜ìŠ¤ì˜ ì½”ë“œëŠ” ì¶”ê°€í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì–´ë–»ê²Œ HouseBlendWithMocha, HouseBlendWIthSteamedMilkAndMocha, HouseBlendWIthWhip ì»¤í”¼ë¥¼ ë§Œë“¤ê²Œ í•  ê²ƒì¸ê°€? ë¡œ ì •ì˜í•´ë³¼ ìˆ˜ ìˆê² ë„¤ìš”.

### **ë°ì½”ë ˆì´í„° íŒ¨í„´**

> ğŸ“˜ Note
>  
> ë°ì½”ë ˆì´í„° íŒ¨í„´ì—ì„œëŠ” ê°ì²´ì— ì¶”ê°€ì ì¸ ìš”ê±´ì„ ë™ì ìœ¼ë¡œ ì²¨ê°€í•œë‹¤.
> ë°ì½”ë ˆì´í„°ëŠ” ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì„ í†µí•´ì„œ ê¸°ëŠ¥ì„ ìœ ì—°í•˜ê²Œ í™•ì¥í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤.
> 

- ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì€ ì•„ë˜ì˜ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ í‘œí˜„í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    
    ![á„ƒá…¦á„á…©á„…á…¦á„‹á…µá„á…¥2](https://user-images.githubusercontent.com/48742165/139672138-521d50db-8374-4e89-b66f-9d280fb81c44.png)
    

**Component**

- ì•ì„œ Beverageì™€ ê°™ì´ ìš°ë¦¬ê°€ ì‹¤ì œ êµ¬í˜„í•´ì•¼ í•  ê°ì²´ì˜ ìµœìƒìœ„ ê°œë…(ì¸í„°í˜ì´ìŠ¤ í˜¹ì€ ì¶”ìƒí´ë˜ìŠ¤) ì˜ë¯¸í•©ë‹ˆë‹¤.

**ConcreteComponent**

- Componentë¥¼ ìƒì†ë°›ì€ êµ¬ì²´ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
- Beverageë¥¼ ìƒì†ë°›ì•„ êµ¬í˜„í•œ HouseBlend í´ë˜ìŠ¤ì— í•´ë‹¹í•˜ê² ìŠµë‹ˆë‹¤.

**Decorator**

- ë“œë””ì–´ Decoratorê°€ ë‚˜ì™”ë„¤ìš”.
- Component(Beverage)ì—ì„œ Mocha, Milk, Whip ë“±ì„ ì¥ì‹ ê°œë…ìœ¼ë¡œ ë¶„ë¦¬ì‹œì¼œ ì£¼ê¸° ìœ„í•œ ì¥ì‹ì˜ ìµœìƒìœ„ ê°œë…(ì¸í„°í˜ì´ìŠ¤ í˜¹ì€ ì¶”ìƒí´ë˜ìŠ¤)ì´ë¼ ë³¼ ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.
- ì¤‘ìš”í•œ ê²ƒì€ Decoratorê°€ Componentì™€ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ í˜¹ì€ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„ ë° ìƒì†ë°›ì•„ì•¼ í•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤.

**ConcreteDecorator**

- Decoratorë¥¼ ìƒì†ë°›ì€ êµ¬ì²´ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
- ConcreteDecoratorì—ëŠ” ê·¸ ê°ì²´ê°€ ì¥ì‹í•˜ê³  ìˆëŠ” ê²ƒ(Decoratorê°€ ê°ì‹¸ê³  ìˆëŠ” Component ê°ì²´)ì„ ìœ„í•œ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.
- DecoratorëŠ” Componentì˜ ìƒíƒœë¥¼ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- Decoratorì—ì„œ ìƒˆë¡œìš´ ë©”ì†Œë“œë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ ìƒˆë¡œìš´ ë©”ì†Œë“œë¥¼ ì¶”ê°€í•˜ëŠ” ëŒ€ì‹  Componentì— ì›ë˜ ìˆë˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ê¸° ì „, ë˜ëŠ” í›„ì— ë³„ë„ì˜ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

### Beverage í´ë˜ìŠ¤ë¥¼ ì¥ì‹í•´ë´…ì‹œë‹¤.

![á„ƒá…¦á„á…©á„…á…¦á„‹á…µá„á…¥3](https://user-images.githubusercontent.com/48742165/139672158-9e6a95d2-d85e-447e-888e-737177734ac4.png)

### **ì½”ë“œë¡œ ì‚´í´ë´…ì‹œë‹¤**

```swift
import Foundation
//Beverage Protocol
protocol Beverage {
    var description: String { get }
    func getDescription() -> String
    func cost() -> Double
}
//Decorator Protocol
protocol CondimentDecorator: Beverage {
    func getDescription() -> String
}
//HouseBlend ì»¤í”¼
struct HouseBlend: Beverage {
    internal var description: String
    init() { self.description = "HouseBlend" }
    func getDescription() -> String { description }
    func cost() -> Double { 0.99 }
}
//ëª¨ì¹´ ì¥ì‹
struct Mocha: CondimentDecorator {
    internal let beverage: Beverage
    internal var description: String = "Mocha"
    init(beverage: Beverage) { self.beverage = beverage }
    func getDescription() -> String { beverage.getDescription() + " +Mocha" }
    func cost() -> Double { 0.20 + beverage.cost() }
}
//íœ˜í•‘í¬ë¦¼ ì¥ì‹
struct Whip: CondimentDecorator {
    internal let beverage: Beverage
    internal var description: String = "Whip"
    init(beverage: Beverage) { self.beverage = beverage }
    func getDescription() -> String { beverage.getDescription() + " +Whip" }
    func cost() -> Double { 0.05 + beverage.cost() }
}

//Main
let houseBlend = HouseBlend()
let mocha = Mocha(beverage: houseBlend)
let whip = Whip(beverage: mocha)
let whip2 = Whip(beverage: whip)
print("\(whip2.getDescription())" + " $\(whip2.cost())")
```

- ìŒë£Œì™€ ì¥ì‹ë§Œ êµ¬ì„±í•´ë†“ìœ¼ë©´ ëŸ°íƒ€ì„ì—ì„œ ì–´ë– í•œ ìŒë£Œì™€ ì¥ì‹ì„ ì¡°í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
